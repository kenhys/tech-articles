---
title: "Debian: bugs.debian.orgにない機能を実装して運用しはじめた話"
emoji: "🪔"
type: "tech"
topics: ["Debian"]
published: false
---

# fabre.debian.netの開発の進め方と運用、得た学びの話

これは「個人アプリ/サービス開発の進め方と運用、得た学び - 02」の19日目の記事です。

## fabre.debian.netとは

Debianのバグトラッキングシステムはhttps://bugs.debian.orgが使われています。
とても歴史のあるバグトラッキングシステムでシンプルなのですが、ちょっと使い勝手に難があります。
自分が欲しい機能を入れてもらうには時間がかかりそうなので、自分専用のサービスを立ち上げてみました。

* https://fabre.debian.net

debian.netなのであくまで非公式なサービスです。ある日突然畳むことがあるかもしれません。

* [An experiment about personalized front-end of bugs.debian.org](https://slide.rabbit-shocker.org/authors/kenhys/debconf2020-online/)

fabre.debian.netで何を目指したのかについては、上記のスライドを参照してください。
ざっくりいうと、Debian unstableを心地よく使えるようにするというものです。

影響を受けるバグは把握しておきたいし、使っているパッケージに問題があるならフィードバックしたい。
でも、bugs.debian.orgでそれを自分が思うようにやるにはちょっとつらい。
なので自分に都合の良いサービスをないなら作ってしまえというのが動機です。

## サービス開発の進め方と運用

自分のために開発したサービスなので、使っていて欲しくなった機能から順番に実装しています。思いつき駆動です。

* 欲しい機能やあったらいいかもな機能についてRedmineにチケットを立てておく
* 気が向いたら実装する
* 動作確認をしてfabre.debian.netにデプロイする

stagingはないので、常にmasterです。頭おかしいですが、あくまで趣味でやっていることなのでそんなもんです。

### 得た教訓

普段Webサービスの開発をもっぱらやっているわけではないので、
実際に手を動かしてみると、多くの教訓を得ました。

* どんなにマイナーだろうがアタックはされる

インスタンスを立ち上げたときから、sshでログインしようと試みてきます。
きっちり公開鍵のみにアクセスをしぼりましょう。

* しつこい輩はbanする

何度もアタックをしかけてくるパターンについてはfail2banでガードしましょう。

* 定期的にリソースの使用状況を確認する

別に落ちたらそれまでのサービスですが、定期的にリソースは確認しましょう。
collectdについてくるcollection3とかでも私の場合は充分でした。

1vCPU 1GBメモリのインスタンスだと使っているのが自分一人とはいえ、メモリが厳しいですね。

* 使っていないサービスは無効化する

インスタンスの初期イメージがUbuntuだったのでそれを更新して使っているのですが、

* なんでもかんでもAWSにのっければよいわけではない

しばらくしてt2.microのインスタンスに乗っけてみたのですが、CPUクレジットの制限が厳しくて

* いきなり適切なリソースを確保してインスタンスを立ち上げるのは難しい

自分が必要なサービスなので、極論を言えば自分一人が使えればよいわけです。
なので


### まとめ

fabre.debian.netの開発の進め方と運用、得た学びの話について書きました。
20日目は「skillfuls.devについてなにか書きます！」だそうです。
