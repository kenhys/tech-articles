---
title: "TP-Linkã®TX50Eã‚’Linuxã§ä½¿ã†(2024/03æ™‚ç‚¹)"
emoji: "ğŸª”"
type: "tech"
topics: ["Debian", "Linux"]
published: true
---

ã“ã®è¨˜äº‹ã¯[TP-Linkã®TX50Eã‚’Linuxã§ä½¿ã†(2024/03æ™‚ç‚¹)](https://kenhys.hatenablog.jp/entry/2024/03/19/123926)ã¨ã®ã‚¯ãƒ­ã‚¹ãƒã‚¹ãƒˆè¨˜äº‹ã§ã™ã€‚


ä»¥å‰ã€[WiFi 6(11ax)USB WiFiã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼(BUFFALO WI-U3-1200AX2)ã‚’Linuxã§ä½¿ã†(2022/02æ™‚ç‚¹)](https://kenhys.hatenablog.jp/entry/2022/02/20/204212)ã¨ã„ã†è¨˜äº‹ã‚’æ›¸ãã¾ã—ãŸã€‚

ã‚ã‚Œã‹ã‚‰2å¹´ã»ã©ãŒçµŒéã—ã€ã‚ã‚‹ç¨‹åº¦å®‰å®šã—ã¦ä½¿ãˆã¦ã„ã‚‹ã®ã ã‘ã‚Œã©ã‚‚ã€ã¡ã‚‡ã£ã¨æ°—ã«ãªã‚‹ç‚¹ãŒã§ã¦ãã¾ã—ãŸã€‚

ãã‚Œã¯ã€ç¶™ç¶šçš„ã«å¤§å®¹é‡ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ã„ã‚‹ã‚ˆã†ãªå ´åˆã«æ¥ç¶šãŒåˆ‡ã‚Œã¦ã—ã¾ã„ã€USBå­æ©Ÿã‚’åˆºã—ç›´ã™ã¾ã§å¾©å¸°ã§ããªã„ã“ã¨ãŒã‚ã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚

ãã†ãã†é »ç¹ã«ç™ºç”Ÿã™ã‚‹ã‚ã‘ã§ã¯ãªã„ãŒã€è¸ã‚€ã¨ã‹ãªã‚Šå«Œãªç¾è±¡ã§ã™ã€‚
USBæ¥ç¶šã¨ã„ã†ã“ã¨ã§ç™ºç†±ã‚’ç–‘ã£ã¦ã¯ã¿ãŸã‚‚ã®ã®ã€ã©ã†ã‚‚ãã‚Œã¨ã‚‚é•ã†ã‚ˆã†ã§ã™ã€‚

ãªã‹ã«ã¯DFSã®ã›ã„ã§ãƒãƒ£ãƒ³ãƒãƒ«ãŒåˆ‡ã‚Šæ›¿ã‚ã£ãŸã¨ã„ã†å ´åˆã‚‚ã‚ã‚‹ã®ã§å¿…ãšã—ã‚‚ç„¡ç·šLANå­æ©ŸãŒæ‚ªã„ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
ã—ã‹ã—ã€é­é‡ã™ã‚‹ã¨é¢å€’ãã•ã„ã€‚
ãã“ã§ã€è©¦ã—ã«ç½®ãæ›ãˆã‚’æ¤œè¨ã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚

## My New Gearã®é¸å®šæ¡ä»¶ã«ã¤ã„ã¦

ä»¥å‰ã¯æœ‰ç·šã§ã®é…ç·šãŒç¾å®Ÿçš„ã§ãªã„ã“ã¨ã‹ã‚‰ã€ç°¡å˜ã«ä½¿ãˆãã†ãªUSBç„¡ç·šLANå­æ©Ÿã¨ã—ã¦BUFFALO WI-U3-1200AX2ã‚’é¸æŠã—ã¾ã—ãŸã€‚

ã—ã‹ã—ä»Šã§ã¯åˆ¥ã«USBæ¥ç¶šã«ã“ã ã‚ã‚‹å¿…è¦ã‚‚ã‚ã‚Šã¾ã›ã‚“ã€‚
ã¨ã„ã†ã‹ã‚€ã—ã‚USBç„¡ç·šLANå­æ©Ÿã‚’ã‚„ã‚ã‚ˆã†ã‹ã¨æ€ã£ã¦ã„ã‚‹ã®ã§ã„ãã¤ã‹æ¤œè¨ã—ã¦ã¿ã¾ã—ãŸã€‚
æ¡ä»¶ã¯ã¤ãã®ã¨ãŠã‚Šã§ã™ã€‚

* WiFi 6 (11ax)å¯¾å¿œã¯å¿…é ˆ
* WiFi 6Eã¾ã§ã¯ã„ã‚‰ãªã„
* USBæ¥ç¶šã®ç„¡ç·šLANå­æ©Ÿã¯å¯¾è±¡å¤–ã¨ã™ã‚‹
* Linuxã§ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ãŒã‚ã‚‹ãªã©Debian sidã§å®‰å®šã—ã¦ä½¿ãˆãã†ãªã‚‚ã®ã«ã™ã‚‹
* M.2ã¸ã®å¢—è¨­ã¯ã‚¹ãƒ­ãƒƒãƒˆã«ç©ºããŒãªã„ã®ã§ä¸å¯
* WANã¯å…±ç”¨LANã§ãã‚Œã»ã©é€Ÿåº¦ã¯ã§ãªã„ã—ã€äºŒé‡ãƒ«ãƒ¼ã‚¿ãƒ¼ã®WANå´ã¯1Gbpsã®åˆ¶ç´„ãŒã‚ã‚‹ã®ã§éå‰°ã‚¹ãƒšãƒƒã‚¯ã¯ã„ã‚‰ãªã„

çµæœã¨ã—ã¦å€™è£œã¯æ¬¡ã®2ã¤ã¨ãªã‚Šã¾ã—ãŸã€‚

* [TP-Link Archer TX20E](https://www.tp-link.com/jp/home-networking/adapter/archer-tx20e/)
* [TP-Link Archer TX50E](https://www.tp-link.com/jp/home-networking/pci-adapter/archer-tx50e/)

TX20Eã¨TX50Eã§ã¯ã€TX20EãŒ4000å††ãã‚‰ã„ã€TX50EãŒ5000å††ãã‚‰ã„ã®è²»ç”¨æ„Ÿã§ã—ãŸã€‚

ç¾çŠ¶WANãŒã›ã„ãœã„300Mbpsç¨‹åº¦ã—ã‹ã§ãªã„å›ç·šãªã®ã§ã€TX20Eã®5GHzã§1201Mbpsã¨ã„ã†ä»•æ§˜ã§ã‚¹ãƒšãƒƒã‚¯çš„ã«ã¯ååˆ†ã§ã™ã€‚

ã—ã‹ã—ã€TX20Eã¨TX50Eã§ã¯æ¡ç”¨ã•ã‚Œã¦ã„ã‚‹ãƒãƒƒãƒ—ã«é•ã„ãŒã‚ã‚Šã¾ã—ãŸã€‚

TX20Eã¯Realtekã®ãƒãƒƒãƒ—ã§RTL8852BEã€ä¸€æ–¹TX50Eã®ã»ã†ã¯Intelã®AX200ã‚’æ¡ç”¨ã—ã¦ã„ã¾ã™ã€‚
WI-U3-1200AX2ã‚‚Realtekã ã£ãŸã®ã§ã€ä»Šåº¦ã¯Intelã®ãƒãƒƒãƒ—ã‚’æ¡ç”¨ã—ã¦ã„ã‚‹TX50Eã‚’é¸æŠã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚
(AX200ã ã£ãŸã‚‰ã€M.2ã«åˆºã™ã‚¿ã‚¤ãƒ—ãŒã ã„ã¶å®‰ã„ã®ã§ã™ãŒã€M.2ã¯ç©ºã„ã¦ã„ãªã„ã®ã§æ–­å¿µã—ã¾ã—ãŸã€‚)

TP-Linkã¯ãƒ«ãƒ¼ã‚¿ãƒ¼ã ã£ãŸã‚‰å€‹äººçš„ãªç†ç”±ãŒã‚ã£ã¦é¸ã°ãªã„ã®ã§ã™ãŒã€ç„¡ç·šLANã‚«ãƒ¼ãƒ‰ãªã‚‰ã‚ˆã„ã®ã§ã¯ã¨ã„ã†åˆ¤æ–­ã§ã™ã€‚

## TP-Link TX50Eã®æ¥ç¶šã‚’ç¢ºèªã™ã‚‹

è³¼å…¥ã—ãŸTX50Eã¯ãƒã‚¶ãƒ¼ãƒœãƒ¼ãƒ‰ã®PCIE 2.0 x 1ã®ã‚¹ãƒ­ãƒƒãƒˆãŒç©ºã„ã¦ã„ã‚‹ã®ã§ãã¡ã‚‰ã«æ¥ç¶šã—ã¾ã—ãŸã€‚
PCIE 3.0 x4ã‚‚ç©ºã„ã¦ã„ã¾ã™ãŒã€ãã¡ã‚‰ã¯(M.2ã‚’åˆ©ç”¨ã—ã¦ã„ã‚‹ã¨ç„¡åŠ¹ãªã®ã§ä½¿ãˆã¾ã›ã‚“ã€‚)

TX50Eã¯Bluetoothã‚‚ã¤ã„ã¦ã„ã¦ã€USB 1_2ã®ãƒ”ãƒ³ãƒ˜ãƒƒãƒ€(USB 2.0)ã«åˆºã—ã¦ãŠãã¾ã—ãŸã€‚ã“ã®ãƒ”ãƒ³ãƒ˜ãƒƒãƒ€ã«åˆºã™ã¨ã„ã†ã®ã¯ãƒ”ãƒ³ã‚’æ›²ã’ã¦ã—ã¾ã‚ãªã„ã‹å®Ÿã«æ€–ã„ã§ã™ã­ã€‚
åˆºã—ãŸå¾Œã«lspciã§ã¿ã‚‹ã¨ã€èªè­˜ã¯ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã—ãŸã€‚

```console
$ lspci | grep -v AMD
...
06:00.0 Network controller: Intel Corporation Wi-Fi 6 AX200 (rev 1a)
...
```

Bluetoothã«ã¤ã„ã¦ã¯USBçµŒç”±ã§ã®æ¥ç¶šã¨ãªã‚‹ã®ã§lsusbã§ç¢ºèªã—ã¾ã—ãŸã€‚

```console
$ lsusb
...
Bus 001 Device 003: ID 8087:0029 Intel Corp. AX200 Bluetooth
...
```

lspci -vã§è©³ç´°ã‚’ã¿ã‚‹ã¨ã€æ¬¡ã®ã‚ˆã†ã«å¿…è¦ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’æ•™ãˆã¦ãã‚Œã¾ã™ã€‚

```console
06:00.0 Network controller: Intel Corporation Wi-Fi 6 AX200 (rev 1a)
	Subsystem: Intel Corporation Wi-Fi 6 AX200NGW
	Flags: fast devsel, IRQ 32
	Memory at fc500000 (64-bit, non-prefetchable) [size=16K]
	Capabilities: <access denied>
	Kernel modules: iwlwifi
```

Capabilitiesã‚’ç¢ºèªã™ã‚‹ã«ã¯ã€sudo lspci -v ã‚’å®Ÿè¡Œã—ãªã„ã¨ã„ã‘ãªã„ã§ã™ã€‚

```console
Kernel driver in use: pcieport

06:00.0 Network controller: Intel Corporation Wi-Fi 6 AX200 (rev 1a)
	Subsystem: Intel Corporation Wi-Fi 6 AX200NGW
	Flags: fast devsel, IRQ 32
	Memory at fc500000 (64-bit, non-prefetchable) [size=16K]
	Capabilities: [c8] Power Management version 3
	Capabilities: [d0] MSI: Enable- Count=1/1 Maskable- 64bit+
	Capabilities: [40] Express Endpoint, IntMsgNum 0
	Capabilities: [80] MSI-X: Enable- Count=16 Masked-
	Capabilities: [100] Advanced Error Reporting
	Capabilities: [14c] Latency Tolerance Reporting
	Capabilities: [154] L1 PM Substates
	Kernel modules: iwlwifi
```

## ãƒ•ã‚¡ãƒ¼ãƒ ã‚¦ã‚§ã‚¢ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

Debian sidã‚’åˆ©ç”¨ã—ã¦ã„ã‚‹ã®ã§ã€iwlwifiã®ãƒ•ã‚¡ãƒ¼ãƒ ã‚¦ã‚§ã‚¢ã¯firmware-iwlwifiã«å«ã¾ã‚Œã¦ã„ã‚‹ã€‚(ã¯ãš)

```console
firmware-iwlwifi/unstable 20230625-2 all
  Binary firmware for Intel Wireless cards
```


sudo apt install -y firmware-iwlwifiã§ãƒ•ã‚¡ãƒ¼ãƒ ã‚¦ã‚§ã‚¢ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã®ã§ã€
sudo modprobe iwlwifiã—ã¦ã¿ã¾ã—ãŸã€‚
ã—ã‹ã—ã€ãƒ‡ãƒã‚¤ã‚¹ã¨ã—ã¦ã¯ã¿ãˆã¦ã„ã¾ã›ã‚“ã€‚
dmesgã«ãªã«ã‹æ‰‹ãŒã‹ã‚ŠãŒãªã„ã‹ç¢ºèªã—ã¦ã¿ãŸã¨ã“ã‚æ¬¡ã®ã‚ˆã†ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå‡ºåŠ›ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚

```console
$ sudo dmesg G iwl
[   56.856794] iwlwifi 0000:06:00.0: enabling device (0000 -> 0002)
[   56.860509] iwlwifi 0000:06:00.0: Detected crf-id 0x3617, cnv-id 0x100530 wfpm id 0x80000000
[   56.860519] iwlwifi 0000:06:00.0: PCI dev 2723/0084, rev=0x340, rfid=0x10a100
[   56.860598] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-77.ucode (-2)
[   56.860612] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-77.ucode (-2)
[   56.860614] iwlwifi 0000:06:00.0: Direct firmware load for iwlwifi-cc-a0-77.ucode failed with error -2
[   56.860643] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-76.ucode (-2)
[   56.860654] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-76.ucode (-2)
[   56.860655] iwlwifi 0000:06:00.0: Direct firmware load for iwlwifi-cc-a0-76.ucode failed with error -2
[   56.860672] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-75.ucode (-2)
[   56.860686] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-75.ucode (-2)
[   56.860687] iwlwifi 0000:06:00.0: Direct firmware load for iwlwifi-cc-a0-75.ucode failed with error -2
[   56.860703] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-74.ucode (-2)
[   56.860714] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-74.ucode (-2)
[   56.860716] iwlwifi 0000:06:00.0: Direct firmware load for iwlwifi-cc-a0-74.ucode failed with error -2
[   56.860730] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-73.ucode (-2)
[   56.860745] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-73.ucode (-2)
[   56.860746] iwlwifi 0000:06:00.0: Direct firmware load for iwlwifi-cc-a0-73.ucode failed with error -2
[   56.860761] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-72.ucode (-2)
[   56.860771] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-72.ucode (-2)
[   56.860773] iwlwifi 0000:06:00.0: Direct firmware load for iwlwifi-cc-a0-72.ucode failed with error -2
[   56.860787] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-71.ucode (-2)
[   56.860798] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-71.ucode (-2)
[   56.860799] iwlwifi 0000:06:00.0: Direct firmware load for iwlwifi-cc-a0-71.ucode failed with error -2
[   56.860818] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-70.ucode (-2)
[   56.860830] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-70.ucode (-2)
[   56.860832] iwlwifi 0000:06:00.0: Direct firmware load for iwlwifi-cc-a0-70.ucode failed with error -2
[   56.860848] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-69.ucode (-2)
[   56.873856] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-69.ucode (-2)
[   56.874960] iwlwifi 0000:06:00.0: Direct firmware load for iwlwifi-cc-a0-69.ucode failed with error -2
[   56.876143] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-68.ucode (-2)
[   56.877324] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-68.ucode (-2)
[   56.881935] iwlwifi 0000:06:00.0: Direct firmware load for iwlwifi-cc-a0-68.ucode failed with error -2
[   56.881965] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-67.ucode (-2)
[   56.883308] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-67.ucode (-2)
[   56.883766] iwlwifi 0000:06:00.0: Direct firmware load for iwlwifi-cc-a0-67.ucode failed with error -2
[   56.883786] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-66.ucode (-2)
[   56.885136] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-66.ucode (-2)
[   56.885138] iwlwifi 0000:06:00.0: Direct firmware load for iwlwifi-cc-a0-66.ucode failed with error -2
[   56.885157] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-65.ucode (-2)
[   56.887548] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-65.ucode (-2)
[   56.888045] iwlwifi 0000:06:00.0: Direct firmware load for iwlwifi-cc-a0-65.ucode failed with error -2
[   56.888069] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-64.ucode (-2)
[   56.889515] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-64.ucode (-2)
[   56.889517] iwlwifi 0000:06:00.0: Direct firmware load for iwlwifi-cc-a0-64.ucode failed with error -2
[   56.889531] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-63.ucode (-2)
[   56.889541] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-63.ucode (-2)
[   56.889543] iwlwifi 0000:06:00.0: Direct firmware load for iwlwifi-cc-a0-63.ucode failed with error -2
[   56.889556] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-62.ucode (-2)
[   56.889566] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-62.ucode (-2)
[   56.889568] iwlwifi 0000:06:00.0: Direct firmware load for iwlwifi-cc-a0-62.ucode failed with error -2
[   56.889581] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-61.ucode (-2)
[   56.889595] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-61.ucode (-2)
[   56.889597] iwlwifi 0000:06:00.0: Direct firmware load for iwlwifi-cc-a0-61.ucode failed with error -2
[   56.889613] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-60.ucode (-2)
[   56.889624] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-60.ucode (-2)
[   56.889625] iwlwifi 0000:06:00.0: Direct firmware load for iwlwifi-cc-a0-60.ucode failed with error -2
[   56.889639] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-59.ucode (-2)
[   56.889649] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-59.ucode (-2)
[   56.889651] iwlwifi 0000:06:00.0: Direct firmware load for iwlwifi-cc-a0-59.ucode failed with error -2
[   56.889664] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-58.ucode (-2)
[   56.889675] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-58.ucode (-2)
[   56.889676] iwlwifi 0000:06:00.0: Direct firmware load for iwlwifi-cc-a0-58.ucode failed with error -2
[   56.889689] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-57.ucode (-2)
[   56.889700] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-57.ucode (-2)
[   56.889701] iwlwifi 0000:06:00.0: Direct firmware load for iwlwifi-cc-a0-57.ucode failed with error -2
[   56.889715] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-56.ucode (-2)
[   56.889727] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-56.ucode (-2)
[   56.889728] iwlwifi 0000:06:00.0: Direct firmware load for iwlwifi-cc-a0-56.ucode failed with error -2
[   56.889743] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-55.ucode (-2)
[   56.889754] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-55.ucode (-2)
[   56.889756] iwlwifi 0000:06:00.0: Direct firmware load for iwlwifi-cc-a0-55.ucode failed with error -2
[   56.889774] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-54.ucode (-2)
[   56.889785] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-54.ucode (-2)
[   56.889786] iwlwifi 0000:06:00.0: Direct firmware load for iwlwifi-cc-a0-54.ucode failed with error -2
[   56.889801] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-53.ucode (-2)
[   56.889812] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-53.ucode (-2)
[   56.889813] iwlwifi 0000:06:00.0: Direct firmware load for iwlwifi-cc-a0-53.ucode failed with error -2
[   56.889827] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-52.ucode (-2)
[   56.889837] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-52.ucode (-2)
[   56.889838] iwlwifi 0000:06:00.0: Direct firmware load for iwlwifi-cc-a0-52.ucode failed with error -2
[   56.889851] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-51.ucode (-2)
[   56.889863] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-51.ucode (-2)
[   56.889864] iwlwifi 0000:06:00.0: Direct firmware load for iwlwifi-cc-a0-51.ucode failed with error -2
[   56.889879] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-50.ucode (-2)
[   56.889889] iwlwifi 0000:06:00.0: firmware: failed to load iwlwifi-cc-a0-50.ucode (-2)
[   56.889891] iwlwifi 0000:06:00.0: Direct firmware load for iwlwifi-cc-a0-50.ucode failed with error -2
[   56.889892] iwlwifi 0000:06:00.0: minimum version required: iwlwifi-cc-a0-50
[   56.889894] iwlwifi 0000:06:00.0: maximum version supported: iwlwifi-cc-a0-77
[   56.889895] iwlwifi 0000:06:00.0: check git://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git
```

ã‚„ãŸã‚‰ã¨ãƒ•ã‚¡ãƒ¼ãƒ ã‚¦ã‚§ã‚¢ã®ãƒ­ãƒ¼ãƒ‰ã«å¤±æ•—ã—ã¦ã„ã‚‹çŠ¶æ³ã§ã‚ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚

## ãƒ•ã‚¡ãƒ¼ãƒ ã‚¦ã‚§ã‚¢ã‚’æœ€æ–°ç‰ˆã«æ›´æ–°ã™ã‚‹

apt showã§ãƒ•ã‚¡ãƒ¼ãƒ ã‚¦ã‚§ã‚¢ã«é–¢ã™ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®èª¬æ˜ã‚’ç¢ºèªã—ã¦ã¿ãŸã¨ã“ã‚ã€æ¬¡ã®çµæœãŒå¾—ã‚‰ã‚Œã¾ã—ãŸã€‚

```
$ apt show firmware-iwlwifi G AX

WARNING: apt does not have a stable CLI interface. Use with caution in scripts.

  * Intel Bluetooth AX201 (var 0 rev 0) configuration, version
  * Intel Bluetooth AX201 (var 0 rev 0) firmware, version 22.220.0.3
  * Intel Bluetooth AX201 (var 0 rev 1) configuration, version
  * Intel Bluetooth AX201 (var 0 rev 1) firmware, version 22.220.0.3
  * Intel Bluetooth AX101 (var 0 rev 3) configuration, version
  * Intel Bluetooth AX101 (var 0 rev 3) firmware, version 22.200.0.2
  * Intel Bluetooth AX201 (var 0 rev 4) configuration, version
  * Intel Bluetooth AX201 (var 0 rev 4) firmware, version 22.220.0.3
  * Intel Bluetooth AX201 (var 16 rev 4) configuration, version
  * Intel Bluetooth AX201 (var 16 rev 4) firmware, version 22.220.0.3
  * Intel Bluetooth AX201 firmware, version 22.220.0.3
  * Intel Bluetooth AX201 firmware, version 22.220.0.3
  * Intel Bluetooth AX201 firmware, version 22.220.0.3
  * Intel Bluetooth AX201 firmware, version 22.220.0.3
  * Intel Bluetooth AX201 (var 32 rev 0) configuration
  * Intel Bluetooth AX201 (var 32 rev 0) firmware, version 22.220.0.3
  * Intel Bluetooth AX201 (var 32 rev 1) configuration, version
  * Intel Bluetooth AX201 (var 32 rev 1) firmware, version 22.220.0.3
  * Intel Bluetooth AX201 (var 32 rev 4) configuration, version
  * Intel Bluetooth AX201 (var 32 rev 4) firmware, version 22.220.0.3
  * Intel Wireless AX211 Bluethooth configuration, version 22.220.0.3
  * Intel Wireless AX211 Bluethooth firmware, version 22.220.0.3
  * Intel Wireless AX2100 Bluethooth configuration, version 22.220.0.3
  * Intel Wireless AX2100 Bluethooth firmware, version 22.220.0.3
  * Intel Wireless Bluetooth AX201 configuration, version 22.220.0.3
  * Intel Wireless Bluetooth AX201 firmware, version 22.220.0.3
  * Intel Wireless Bluetooth AX201 configuration, version 22.220.0.3
  * Intel Wireless Bluetooth AX201 firmware, version 22.220.0.3
```

æ®‹å¿µãªãŒã‚‰ã€AX200ã¯æ²è¼‰ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚

ãã“ã§ã€dmesgã§è¨€åŠã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ã«linux-firmwareã®Gitãƒªãƒã‚¸ãƒˆãƒªã‚’ç¢ºèªã—ã¦ã¿ã¾ã—ãŸã€‚

https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git

firmware-iwlwifiã¯20230625-2ãªã®ã§ã¡ã‚‡ã£ã¨å¤ã„ãŸã‚ã®ã‚ˆã†ã§ã™ã€‚
ãƒªãƒã‚¸ãƒˆãƒªã®ãƒ­ã‚°ã‚’ç¢ºèªã™ã‚‹ã¨ã¡ã‚‡ãã¡ã‚‡ããƒ•ã‚¡ãƒ¼ãƒ ã‚¦ã‚§ã‚¢ãŒæ›´æ–°ã•ã‚Œã¦ã„ã¾ã™ã€‚

ä¾‹ãˆã°ã€2023-08-28ã§AX200ã®ãƒ•ã‚¡ãƒ¼ãƒ ã‚¦ã‚§ã‚¢ãŒæ›´æ–°ã•ã‚Œã¦ã„ã¾ã™ã€‚

https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git/commit/?id=3892dc0121482d1fe5f3fa3a9943a89ef5838c85

firmware-iwlwifiã®apt showã®çµæœã‚’ã¿ã‚‹ã‹ãã‚Šã€ibtç³»ãŒAX200ã®ãƒ•ã‚¡ãƒ¼ãƒ ã‚¦ã‚§ã‚¢ã®ã‚ˆã†ã§ã™ã€‚
ã‚³ãƒŸãƒƒãƒˆã‚’ã¿ã‚‹ã‹ãã‚Šã€æ¬¡ã®3ã¤ã‚’æ›´æ–°ã—ãŸã»ã†ãŒã‚ˆã•ãã†ã§ã™ã€‚

* intel/ibt-20-0-3.sfi
* intel/ibt-20-1-3.sfi
* intel/ibt-20-1-4.sfi

ã¾ãŸã€ibtã ã‘ã˜ã‚ƒãªãã¦ã€iwlwifi-cc-a0-ã‚‚ã‚ˆã‚Šã‚ãŸã‚‰ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚
ã‚‚ã—æ–°ã—ã„ãƒ•ã‚¡ãƒ¼ãƒ ã‚¦ã‚§ã‚¢ãŒã‚ã‚Œã°é †ã«ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚
ä¸‹é™ã¨ä¸Šé™ã¯æ¬¡ã®ã‚ˆã†ã«å®šã‚ã‚‰ã‚Œã¦ã„ã¾ã—ãŸã€‚

```
[   56.889892] iwlwifi 0000:06:00.0: minimum version required: iwlwifi-cc-a0-50
[   56.889894] iwlwifi 0000:06:00.0: maximum version supported: iwlwifi-cc-a0-77
```

ã—ãŸãŒã£ã¦ã€ä»¥ä¸‹ã®4ã¤ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ‰€å®šã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚³ãƒ”ãƒ¼ã—ã¦ãŠã‘ã°è‰¯ã„ã§ã™ã€‚

```console
sudo cp linux-firmware/iwlwifi-cc-a0-77.ucode /usr/lib/firmware/
sudo cp linux-firmware/intel/ibt-20-0-3.sfi /usr/lib/firmware/intel/
sudo cp linux-firmware/intel/ibt-20-1-3.sfi /usr/lib/firmware/intel/
sudo cp linux-firmware/intel/ibt-20-1-4.sfi /usr/lib/firmware/intel/
```

sudo modprobe -a iwlwifiã™ã‚‹ã¨wlp6s0ã¨ã—ã¦èªè­˜ã•ã‚Œã¾ã—ãŸã€‚

```
7: wlp6s0: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc noqueue state DOWN group default qlen 1000
```

## TX50Eã®é›»æºç®¡ç†ã‚’ç„¡åŠ¹ã«ã™ã‚‹

çœé›»åŠ›æ©Ÿèƒ½ã¯ã‚¢ã‚°ãƒ¬ãƒƒã‚·ãƒ–ã™ãã‚‹ã¨åˆ‡æ–­è¦å› ã«ãªã‚Šã‹ã­ãªã„ã¨ã„ã†ã“ã¨ã§ã€ç„¡åŠ¹åŒ–ã—ã¦ãŠãã“ã¨ã«ã—ã¾ã—ãŸã€‚
(æœ¬å½“ã¯å®Ÿéš›ã«å•é¡Œã«ãªã£ã¦ã‹ã‚‰ç„¡åŠ¹åŒ–ã—ãŸã»ã†ãŒã‚ˆã„ã‘ã‚Œã©ã‚‚)

é›»æºç®¡ç†ã‚’ç„¡åŠ¹åŒ–ã™ã‚‹ã«ã¯iwlmvmã«å¯¾ã—ã¦æ¬¡ã®ã‚ˆã†ãªè¨­å®šã‚’è¡Œã†ã¨è‰¯ã„ã§ã™ã€‚
(iwlwifiã®power_save=0ã¯åŠ¹æœãŒãªã„)

```
cat /etc/modprobe.d/iwlmvm.conf 
# parm:           init_dbg:set to true to debug an ASSERT in INIT fw (default: false (bool)
# parm:           power_scheme:power management scheme: 1-active, 2-balanced, 3-low power, default: 2 (int)
options iwlmvm power_scheme=1
```

power_schemeã¨ã„ã£ãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã”ã¨ã«æŒ‡å®šã§ãã‚‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã«ã¤ã„ã¦ã¯sudo modinfo iwlmvmã§èª¿ã¹ã‚‰ã‚Œã¾ã™ã€‚

å®Ÿéš›ã«å†èµ·å‹•ã™ã‚‹ã¨æ¬¡ã®ã‚ˆã†ã«çœé›»åŠ›ã‚’ç„¡åŠ¹ã«ã§ãã¦ã„ã¾ã—ãŸã€‚

```
sudo iwconfig
wlp6s0    IEEE 802.11  ESSID:"..."  
          Mode:Managed  Frequency:5.52 GHz  Access Point: ...
          Bit Rate=1.0806 Gb/s   Tx-Power=22 dBm   
          Retry short limit:7   RTS thr:off   Fragment thr:off
          Encryption key:off
          Power Management:off
          Link Quality=52/70  Signal level=-58 dBm  
          Rx invalid nwid:0  Rx invalid crypt:0  Rx invalid frag:0
          Tx excessive retries:0  Invalid misc:273   Missed beacon:0
```


## ã‚¢ãƒ³ãƒ†ãƒŠã®å‘ãã‚’èª¿ç¯€ã™ã‚‹

æ€§èƒ½ã‚’æœ€å¤§é™ç™ºæ®ã™ã‚‹ã«ã¯ã€ã‚¢ãƒ³ãƒ†ãƒŠã®å—ä¿¡çŠ¶æ…‹ã‚’è‰¯å¥½ãªã‚‚ã®ã«ã—ãªã„ã¨ã„ã‘ã¾ã›ã‚“ã€‚

PCIEçµŒç”±ã ã¨PCã®èƒŒé¢ã‹ã‚‰ã‚¢ãƒ³ãƒ†ãƒŠã‚’ç”Ÿã‚„ã™ã“ã¨ã«ãªã‚‹ã®ã§ã€è¨­ç½®å ´æ‰€ã«ã‚ˆã£ã¦ã¯å‘ãã‚’èª¿ç¯€ã—ã¦ãŠã‹ãªã„ã¨ã€
ãƒªãƒ³ã‚¯é€Ÿåº¦ãŒç¨¼ã’ã¾ã›ã‚“ã€‚

è¦ªãƒ«ãƒ¼ã‚¿ãƒ¼ãŒ80MHzã®å ´åˆã€ãƒªãƒ³ã‚¯é€Ÿåº¦ã®ä¸Šé™ã¯1201Mbpsã«åˆ¶é™ã•ã‚Œã‚‹ã¯ãšã§ã™ã€‚
å®Ÿéš›æ¬¡ã®ã‚ˆã†ãªçµæœã¨ãªã‚Šã¾ã—ãŸã€‚

```console
$ sudo iw dev wlp6s0 link
Connected to ... (on wlp6s0)
	SSID: ...
	freq: 5520.0
	RX: 929804678 bytes (891697 packets)
	TX: 572620119 bytes (261878 packets)
	signal: -58 dBm
	rx bitrate: 648.5 MBit/s 80MHz HE-MCS 6 HE-NSS 2 HE-GI 0 HE-DCM 0
	tx bitrate: 1200.9 MBit/s 80MHz HE-MCS 11 HE-NSS 2 HE-GI 0 HE-DCM 0
	bss flags: short-preamble short-slot-time
	dtim period: 10
	beacon int: 100
```

## é€Ÿåº¦è¨ˆæ¸¬çµæœã¯ã©ã†ã ã£ãŸã‹

TX50E(AX200)ã§é€Ÿåº¦ã‚’è¨ˆæ¸¬ã—ã¦ã¿ãŸã¨ã“ã‚ã€ã“ã‚Œã¾ã§ä¸Šã‚Šä¸‹ã‚Šã§400Mbpsã‚’è¶…ãˆã‚‹ã“ã¨ã¯ãªã‹ã£ãŸãŒã€
ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã®ã¨ãã«400Mbpså‡ºã›ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã¯ã°ã‚‰ã¤ããŒå¤§ãã„ã®ã§é€Ÿããªã£ãŸã‹ã©ã„ã†ã‹ã¯ãªã‚“ã¨ã‚‚ã„ãˆã¾ã›ã‚“ã€‚
ãŸã ã€ç¶™ç¶šçš„ã«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ã„ã‚‹ã‚ˆã†ãªçŠ¶æ³ã§åˆ‡æ–­ã•ã‚Œã‚‹ã“ã¨ãŒãªããªã‚Šå®‰å®šã—ã¦ã„ã‚‹ã‚ˆã†ã«ã¿ãˆã¾ã™ã€‚

TX50Eã¯160MHzã«å¯¾å¿œã—ã¦ã„ã‚‹ã®ã§ã€ä»•æ§˜ä¸Šã¯2ã‚¹ãƒˆãƒªãƒ¼ãƒ 2404Mbpsã«å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚
ãŸã ã—ã€è¦ªæ©Ÿã®ãƒ«ãƒ¼ã‚¿ãƒ¼ãŒ80MHzã¾ã§ã—ã‹å¯¾å¿œã—ã¦ã„ãªå ´åˆã¯ã€2ã‚¹ãƒˆãƒªãƒ¼ãƒ 1201Mbpsã¨ãªã‚Šã¾ã™ã€‚
ãã®ãŸã‚ãƒªãƒ³ã‚¯é€Ÿåº¦è‡ªä½“1200Mbpsã¨æœ¬æ¥ã®æ€§èƒ½ã‚’æ´»ã‹ã—ãã‚Œã¦ã„ãªã„ã®ã¯ã‚‚ã£ãŸã„ãªã„ã§ã™ãŒã€
ãã‚Œã§ã‚‚ã„ã¾ã®ã¨ã“ã‚å®‰å®šã—ã¦ã„ã‚‹ã®ã¯ã¨ã¦ã‚‚ã‚ˆã„ã§ã™ã€‚

ãŠã¾ã‘ã§ã€Bluetoothã‚‚ä½¿ãˆã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã€ã“ã‚Œã¾ã§WiFiã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ã¨BTãƒ‰ãƒ³ã‚°ãƒ«ã®ã¶ã‚“ã®USBç«¯å­ãŒ2ã¤ç©ºã„ãŸã®ã‚‚å¬‰ã—ã„ã€‚
